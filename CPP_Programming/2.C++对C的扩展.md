# 1. C++命名空间基本常识

1. **创建名字是程序设计中的基础任务**：当项目规模庞大时，必然会包含大量的名字。C++允许开发者控制名字的产生和可见性。

   在C语言中，`static`关键字可限制名字的可见范围。而在C++中，可以通过**命名空间**控制名字的访问权限。

2. 在C++中，**名字**可以是符号常量、变量、宏、函数、结构、枚举、类、对象等。

3. **`std`是C++标准命名空间**：C++标准库中的所有标识符都定义在`std`命名空间中，例如`iostream`、`vector`等。使用这些标识符时，可以通过`using namespace std`或显式使用`std::`来访问。

---

# 2. 命名空间的使用

## 2.1 命名空间的定义

```cpp
namespace name_a {
    int x;
    void func() { 
        cout << "name_a" << endl; 
    }
}  // namespace name_a

namespace name_b {
    int x;
    void func() { 
        cout << "name_b" << endl; 
    }
}  // namespace name_b
```

## 2.2 命名空间成员的访问

- 使用**作用域操作符 `::`**访问命名空间中的成员。
  
  示例：

```cpp
int main() {
    name_a::x = 100;
    name_b::x = 1000;
    
    cout << name_a::x << endl;
    cout << name_b::x << endl;
    
    name_a::func();
    name_b::func();
    
    return 0;
}
```

---

## 2.3 命名空间只能在**全局范围**内定义

以下为错误示例：

```cpp
void test() {
    namespace A { int a; }  // 错误，命名空间不能在局部定义
    namespace B { int a; }
    
    A::a = 100;
    B::a = 1000;
}
```

---

## 2.4 命名空间的嵌套定义

```cpp
namespace A {
    int a = 10;
    namespace B {
        int a = 20;
    }
}  // namespace A

void test() {
    cout << "A::a : " << A::a << endl;
    cout << "A::B::a : " << A::B::a << endl;
}

int main() {
    test();
    return 0;
}
```

---

## 2.5 命名空间的声明与实现分离

- 在`test.hpp`中声明命名空间：

```cpp
#ifndef TEST_TEST_H
#define TEST_TEST_H

namespace MySpace {
    void func1();
    void func2(int);
}  // namespace MySpace

#endif  // TEST_TEST_H
```

- 在`test.cpp`中实现命名空间：

```cpp
#include "test.hpp"
#include <iostream>

using namespace std;

void MySpace::func1() {
    cout << "void MySpace::func1()" << endl;
}

void MySpace::func2(int x) {
    cout << "void MySpace::func2(): " << x << endl;
}
```

---

## 2.6 命名空间别名

```cpp
#include <iostream>

using namespace std;

namespace student_info_handle {
    int a = 10;
    void func() { 
        cout << "student_info_handle" << endl; 
    }
}  // namespace student_info_handle

int main() {
    namespace stuInfoH = student_info_handle;  // 创建别名
    stuInfoH::func();  // 通过别名访问命名空间成员
    return 0;
}
```

---

# 3. 引用

## 3.1 引用的概念

1. 引用可以看作**已定义变量的别名**。
2. 引用语法：`Type& name = var;`。

> 注意事项：
> 1. `&`在此表示引用，而非取地址。
> 2. 引用在声明时必须初始化，且不可重新引用其他变量。
> 3. 引用不能为NULL，必须指向合法的存储空间。

---

## 3.2 引用的使用

```cpp
#include <iostream>

using namespace std;

int main() {
    int a = 10;
    int& b = a;  // 引用a
    cout << "a: " << a << endl;
    cout << "b: " << b << endl;

    b = 100;  // 修改b相当于修改a
    cout << "a: " << a << endl;
    cout << "b: " << b << endl;

    int& c = a;  // 另一个引用
    c = 200;
    cout << "a: " << a << endl;
    cout << "b: " << b << endl;
    cout << "c: " << c << endl;

    return 0;
}
```

---

## 3.3 引用的本质

引用的本质是一个**常指针**：

```cpp
Type& ref = val;  // 实际上等价于：Type* const ref = &val;
```

验证引用的内存占用：

```cpp
#include <iostream>

using namespace std;

struct test {
    int& a;
    int& b;
};

int main() {
    cout << sizeof(test) << endl;  // 输出引用所占内存
    return 0;
}
```

---

## 3.4 引用作为函数参数

```cpp
#include <iostream>

using namespace std;

typedef struct Teacher {
    char name[32];
    int age;
} Teacher;

void printTeacher(Teacher& t) {
    cout << t.age << endl;
    t.age = 32;  // 修改传入对象的属性
}

int main() {
    Teacher teacher;
    teacher.age = 30;
    printTeacher(teacher);
    cout << teacher.age << endl;  // 输出修改后的年龄
    return 0;
}
```

---

## 3.5 引用的意义

引用可以作为指针的替代品，提高代码的可读性和实用性。例如：

```cpp
void swap(int& a, int& b) {
    int temp = a;
    a = b;
    b = temp;
}
```

---

# 4. 内联函数

## 4.1 内联函数的引入

内联函数是C++引入的一种类似宏的优化机制，可以避免函数调用开销，同时保证类型安全。示例：

```cpp
inline int add(int a, int b) {
    return a + b;
}
```

编译器在合适情况下将内联函数直接展开，避免函数调用的开销。

---

# 5. 函数的缺省参数

C++允许函数参数有缺省值，未提供参数时会使用默认值：

```cpp
void testFunc(int a = 10, int b = 20) {
    cout << "a + b = " << a + b << endl;
}

int main() {
    testFunc();         // 使用默认参数
    testFunc(100);      // 修改a参数
    testFunc(100, 200); // 修改a和b参数
    return 0;
}
```

---

# 6. 函数重载

函数重载是指同名函数可以根据参数类型、个数或顺序的不同实现多种功能。例如：

```cpp
void func() {}
void func(int x) {}
void func(int x, int y) {}
```

