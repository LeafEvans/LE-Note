# 计算机的分类

<img src="https://leafalice-image.oss-cn-hangzhou.aliyuncs.com/img/image-20250105074459821.png" alt="image-20250105074459821" style="zoom: 80%;" />

<u>传统上</u>，按照应用，计算机可以分为：

1. **个人计算机（PC)**；
2. **服务器**：
   适用于执行大负载任务，多用户通过网络并行访问；
   高端服务器被称为**超级计算机**；
3. **嵌入式计算机**是数量最多的一类计算机。

进入<u>后 PC 时代</u>：

- 往小的方向发展为：个人移动设备（PMD）；
- 往大的方向发展为：仓储规模计算机（Warehouse-Scale Computer, WSC)，大型数据中心的云计算服务器。

## 存储容量

数量级前缀，两级之间有 $2^{10}(1024)$ 倍的数量关系：

<img src="https://leafalice-image.oss-cn-hangzhou.aliyuncs.com/img/image-20250105075039310.png" alt="image-20250105075039310" style="zoom:67%;" />

B(Byte) 字节，b(bit) 位，1 字节为 8 位。

**字节常用于储存容量，位常用于传输速度。**

<img src="https://leafalice-image.oss-cn-hangzhou.aliyuncs.com/img/image-20250105075200381.png" alt="image-20250105075200381" style="zoom:80%;" />

使用 100 Mbps 来表示百兆；转换成字节表示，即为 12.5 MB/s。

# 计算机系统结构中的 8 个伟大思想

<img src="https://leafalice-image.oss-cn-hangzhou.aliyuncs.com/img/image-20250105075613037.png" alt="image-20250105075613037" style="zoom: 80%;" />

## 2 个设计原则

1. **摩尔定律**：单芯片上的集成度（单位面积硅片能容纳的晶体管数量）每 18 个月翻一番提出于 1965 年；芯片设计要依据设计**<u>完成时</u>**的工艺水平。
2. **抽象**：省略低层次的用节，提供简化的模型。

## 4 个提高性能的方法

3. **加速大概率事件**：一台计算机绝大部分时间用来打游戏，改进游戏性能还是其他性能更能提高整体性能？

   定量分析：**Amdahl 定律**

   <img src="https://leafalice-image.oss-cn-hangzhou.aliyuncs.com/img/image-20250105080209229.png" alt="image-20250105080209229" style="zoom:67%;" />

4. **并行**：同时发生，典型例子是多核处理器。

5. **流水线**：类比工业中的流水线；

6. **预测**：

   - 预测失误后恢复的代价不高；
   - 预测有相当的准确率；

   满足这两个条件则可以猜测哪些操作会发生，并提前开始执行。

## 存储器层次与冗余

7. **存储器层次**；

8. **冗余提高可靠性**：物理器件的，”备胎“，失效了就换上；

   <img src="https://leafalice-image.oss-cn-hangzhou.aliyuncs.com/img/image-20250105080633275.png" alt="N" style="zoom:50%;" />

# 软硬件基础

<img src="https://leafalice-image.oss-cn-hangzhou.aliyuncs.com/img/image-20250105080734634.png" alt="image-20250105080734634" style="zoom:80%;" />

## 编程语言分类

<img src="https://leafalice-image.oss-cn-hangzhou.aliyuncs.com/img/image-20250105080905695.png" alt="image-20250105080905695" style="zoom:67%;" />

机器语言依赖于机器，所以被称作低级语言。因为汇编语言于机器指令是一一对应的，因此汇编语言也依赖于机器，是低级语言。

<u>高级语言编译形成汇编语言，汇编语言汇编形成机器语言。</u>

## 冯·诺依曼结构

该结构五大经典部件：

外围的<u>输入设备</u>、<u>输出设备</u>，合称为 **I/O 设备**：

- 输入设备：键盘鼠标、扫描仪；
- 输出设备：显示器、打印机；
- 混合 I/O 设备：触摸屏、网卡。

存放程序和数据的存储器：

- 缓存 （cache）：SRAM，快但是贵，容量很小（3 MB）；
- 主存/内存：DRAM，比较快也比较贵，容量中等（8 ～ 16 GB）；
- 辅存/外存/二级存储器闪存：慢但便宜，容量大（基本都是 512GB 起步）。

<img src="https://leafalice-image.oss-cn-hangzhou.aliyuncs.com/img/image-20250105081944507.png" alt="image-20250105081944507" style="zoom:67%;" />

> **只有放入内存的程序才能被 CPU 执行。**

组成 CPU 的两大部件：<u>运算器（数据通路）</u>、<u>控制器</u>。

<img src="https://leafalice-image.oss-cn-hangzhou.aliyuncs.com/img/image-20250105082130788.png" alt="image-20250105082130788" style="zoom:80%;" />

## 存储器层次结构

*CPU 的主频在 3.5GHz，内存条的主频 2666MHz，通常是谁等待谁？*CPU 等待内存条。

解决方法：存储器层次（思想 7）

顶端：快贵小 → 底端：慢廉大

<img src="https://leafalice-image.oss-cn-hangzhou.aliyuncs.com/img/image-20250105082605243.png" alt="image-20250105082605243" style="zoom:80%;" />

**第一级**：cache（和 cash 同音），采用 SRAM 技术；

**第二级**：主存/内存，采用 DRAM 技术；

SRAM、DRAM 断电后数据很快消失，为**易失性存储器**；

**第三级**：辅存，过去常用磁盘，现逐渐被闪存代替；磁盘、闪存断电后不丢失数据，为**非易失性存储器**。

> **cache 位于 CPU 中**，在 CPU 中塞入 cache 中，好处是：
>
> - 物理距离近，和<u>两大部件</u>通信迅速；
> - 只要 cache 能把 CPU 即将要用的程序、数据，从内存中复制过来，就能缓解速度矛盾。
>
> 因此 CPU 不只由运算器（数据通路）、控制器组成，还有一些存储器等。

## 指令集体系结构

苹果的 M1 系列芯片为什么性能高且续航持久？

CPU 的**指令集体系结构（架构，ISA）**根本上不一样。即，可以执行的指令集合大不相同。

> - x86，为了和二三十年前的软件保持兼容，指令只增不减，越来越庞大繁杂;
> - ARM，设计思想主张精简，能效出色。

MIPS 和 ARM 都属于 RISC 架构（Reduced Instruction Set Computer，精简指令集计算机）；
x86 是典型的 CISC 架构（Complex Instruction Set Computer，复杂指令集计算机）。

## 集成电路制作

**晶体管**：受电信号控制的简单开关；

**集成电路（Integrated Circuit, IC）**：由许多个晶体管组成的芯片。

> 成品率越高、产量越高、芯片面积越小，芯片的制造成本越低。
