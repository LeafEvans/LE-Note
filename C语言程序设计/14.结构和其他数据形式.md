# 1.结构体的声明

## （1）结构的基础知识

> 结构是一些值的集合，这些值被称为成员变量。结构的每个成员都可以是不同类型的变量。

## （2）结构的声明

举例：

```c
#include <stdio.h>

struct Peo
{
    char name[20];
    char tele[12];
    char sex[5];
    int high;
}; // 声明的结构体类型Peo

int main(void)
{

    return 0;
}
```

语法支持，可以添加变量：

```c
struct Peo
{
    char name[20];
    char tele[12];
    char sex[5];
    int high;
} p1, p2; // p1，p2是使用该结构体创建的变量，此时这两个变量为全局变量，因此还是使用上一种方法
```

## （3）结构成员的类型

结构的成员可以是标量、数组、指针，甚至是其他结构体。如：

```C
struct Peo
{
    char name[20];
    char tele[12];
    char sex[5];
    int high;
};

struct St
{
    struct Peo p;
    int num;
    float f;
};
```

## （4）结构体变量的定义和初始化

有了结构体变量，那么如何定义变量，其实很简单。

```c
struct Peo // 这是类型不是变量
{
    char name[20];
    char tele[12];
    char sex[5];
    int high;
} p1, p2;
struct Peo p3, p4; // 两种创建结构体变量的方式
```

```c
// 结构体变量的创建和初始化
int main(void)
{
    struct Peo p1 = {"张三", "13905162347", "男", 178};

    return 0;
}
```

而对于嵌套的结构体，有：

```c
int main(void)
{
    struct St p2 = {{"张三", "13905162347", "男", 178}, 100, 3.14f};

    return 0;
} // 在大括号里再加一个大括号来初始化被嵌套的结构体
```

# 2.结构体成员的访问

- 结构体变量访问成员

  结构体变量是通过点操作符`.`访问的，左边是结构体变量，右边是结构体成员。点操作符接受两个操作数。

如想要打印，有以下格式：

```c
int main(void)
{
    struct Peo p1 = {"张三", "13905162347", "男", 178};
    struct St p2 = {{"张三", "13905162347", "男", 178}, 100, 3.14f};

    printf("%s %s %s %d\n", p1.name, p1.tele, p1.sex, p1.high);
    printf("%s %s %s %d %d %f\n", p2.p.name, p2.p.tele, p2.p.sex, p2.p.high, p2.num, p2.f);
    
    return 0;
}
```

打印结果为：

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231103215809136.png" alt="image-20231103215809136" style="zoom:80%;" />

另一种访问方式`->`，左边是结构体指针，右边是结构体成员：

```c
void print(struct Peo *p)
{
    printf("%s %s %s %d\n", p->name, p->tele, p->sex, p->high);
}

int main(void)
{
    struct Peo p1 = {"张三", "13905162347", "男", 178};

    print(&p1);

    return 0;
}
```

这是结构体指针访问结构体成员的方法。
