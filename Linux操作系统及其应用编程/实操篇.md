 **shell**可以看作是一个命令解释器，为我们提供了交互式的文本控制台界面。

我们可以通过终端控制台来输入命令，由**shell**进行解释并最终交给内核执行。

本章就将分类介绍常用的基本**shell**命令。

# 一、帮助命令
## （1）man获得帮助信息
### 1.基本语法
```
man [命令或配置文件] （功能描述：获得帮助信息）
```

### 2.显示说明
<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231029105126598.png" alt="image-20231029105126598" style="zoom:80%;" />

### 3.案例实操
<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231029105146302.png" alt="image-20231029105146302" style="zoom:80%;" />

## （2）help获得shell内置命令的帮助信息

一部分基础功能的系统命令是直接内嵌在shell中的，系统加载启动之后会随着shell一起加载，常驻系统内存中。

这部分命令被称为"内置（**built-in**）命令"；相应的其它命令被称为"外部命令"。

用`type`命令就可以查询当前的命令类型。

<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697678509589-c1aae8db-ee2c-47f9-b277-d1f8f34844df.png#averageHue=%23fefefe&clientId=uf930347a-39b5-4&from=paste&height=31&id=ue09c7089&originHeight=39&originWidth=286&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=3349&status=done&style=none&taskId=ue206c87c-32ae-42ff-bf5e-249a7995d13&title=&width=228.8" alt="image.png" style="zoom:80%;" />

想要查看，可先使用`man -f`命令来显示。

<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697678744670-4f843075-586d-4470-a163-a5d41bbbbaba.png#averageHue=%23fefefe&clientId=uf930347a-39b5-4&from=paste&height=59&id=u96e5466b&originHeight=74&originWidth=718&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=10217&status=done&style=none&taskId=u824d1108-540f-4872-9b20-c173883bf83&title=&width=574.4" alt="image.png" style="zoom:80%;" />

可知所要查询的命令，而后输入`man 1p cd`（cd为要查询的命令，1p为相应的章节）来查看帮助信息。

除此之外，可输入`ls --help`命令来查看外部命令（展示例子为`ls`）的简洁信息。

### 1.基本命令
```
help 命令 (功能描述：获得shell内置命令的帮助信息)
```

### 2.案例实操
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697678136561-f2e00820-357b-425c-8f37-b13b744f74fe.png#averageHue=%23f0f0f0&clientId=uf930347a-39b5-4&from=paste&height=69&id=u55478f3d&originHeight=86&originWidth=1000&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=18101&status=done&style=none&taskId=ua64597f9-fbb8-4eb9-8c6d-39b2c12311a&title=&width=800" alt="image.png" style="zoom:80%;" />

## （3）常用快捷键
<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231029105214091.png" alt="image-20231029105214091" style="zoom:80%;" />

# 二、文件目录类
## （1）pwd显示当前文件目录的绝对路径
> pwd： Print Working Directory 打印工作目录

### 1.基本语法
```
pwd （功能描述：显示当前工作目录的绝对路径）
```

### 2.案例实操

<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697679663669-0e88e04f-fe8f-4b17-8bb3-6511ef706e42.png#averageHue=%23ededed&clientId=u9d355f53-443d-4&from=paste&height=96&id=u1c62127e&originHeight=120&originWidth=1001&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=25077&status=done&style=none&taskId=u91ee17b4-f3af-44e1-bca5-1d6722a7a70&title=&width=800.8" alt="image.png" style="zoom:80%;" />

## （2）cd切换目录
> cd：Change Directory 切换路径

### 1.基本语法
```
cd [参数]
```

### 2.参数说明
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697680315797-83e81d9b-aba3-4263-9bf5-29a3021c5f43.png#averageHue=%23efefef&clientId=u9d355f53-443d-4&from=paste&height=215&id=u660dd3dd&originHeight=288&originWidth=967&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=77762&status=done&style=none&taskId=uea19e427-e5e4-450c-afa8-7773ce2d3e9&title=&width=722" alt="image.png" style="zoom:80%;" />

### 3.案例实操
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697680346709-4b6f2030-448a-4091-a33a-f46b032a9f36.png#averageHue=%23e4e4e4&clientId=u9d355f53-443d-4&from=paste&height=59&id=uca55abec&originHeight=74&originWidth=457&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=21110&status=done&style=none&taskId=u10e46a4d-75e0-42a1-97b9-db79e00eb1c&title=&width=365.6" alt="image.png" style="zoom:80%;" />

以`/`开头代表以根目录为基准点来触发。

<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697680726423-b21e9ce7-eacd-49e0-be20-c1374a2ef611.png#averageHue=%23edeae6&clientId=u9d355f53-443d-4&from=paste&height=44&id=uaba4123b&originHeight=55&originWidth=437&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=6967&status=done&style=none&taskId=u36ae3b85-4001-4ae8-81e3-3931cd0d403&title=&width=349.6" alt="image.png" style="zoom:80%;" />

从桌面开始，退回到上一级目录，然后再进入。

## (3)ls列出目录的内容
> ls：list列出目录内容

### 1.基本语法
```
ls [选项] [目录或是文件]
```

### 2.选项说明
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697682970730-4e429ee8-1e14-43b4-8bbc-68e6bf5881b3.png#averageHue=%23ececec&clientId=uc57c0867-f1f3-4&from=paste&height=126&id=u35e7a81c&originHeight=158&originWidth=906&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=51582&status=done&style=none&taskId=ud4addeb6-0feb-408f-af66-eed3efc7ad1&title=&width=721" alt="image.png" style="zoom:80%;" />

可以通过`-al`来连续执行两个命令。

### 3.显示说明

>
> 每行列出的信息依次是：文件类型与权限 链接数 文件属主 文件属组 文件大小用byte来表示 
>
> 建立或最近修改的时间 名字

上述信息也被称作**i-node**信息（i代表节点号）。

### 4.案例实操

<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697683911419-68c2add9-27d2-404d-aa26-e1b5b137e585.png#averageHue=%23eaeaea&clientId=u4ad66068-4ae1-4&from=paste&height=42&id=u9ff8922e&originHeight=52&originWidth=394&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=10670&status=done&style=none&taskId=uf27656e1-9f13-4101-8ebf-36bea5ccb0e&title=&width=315.2" alt="image.png" style="zoom:80%;" />

<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697683939776-f2e6d4d6-d7ff-4a8d-8c42-500bbc898da0.png#averageHue=%23f4f2f0&clientId=u4ad66068-4ae1-4&from=paste&height=242&id=u3264f54d&originHeight=303&originWidth=765&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=38302&status=done&style=none&taskId=u3d5dff11-dc95-4dab-b69d-651c0fc40b3&title=&width=612" alt="image.png" style="zoom:80%;" />

## （4）mkdir创建新的文件夹
> mkdir：Make Directory 建立目录

### 1.基本语法
```
mkdir [选项] 要创建的目录
```

### 2.选项说明
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697684470907-06ae3b0f-4e42-455d-a447-199bd56a62f4.png#averageHue=%23ececec&clientId=udcd2ea30-8f15-4&from=paste&height=78&id=u90e64d75&originHeight=97&originWidth=366&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=12397&status=done&style=none&taskId=ue8993075-ea05-4cd9-9d0b-5e354c1bf1d&title=&width=292.8" alt="image.png" style="zoom:80%;" />

### 3.案例实操
#### a.创建一个目录
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697684506341-5db1ad3a-677d-49df-a58a-3cddbffc732d.png#averageHue=%23d9d9d9&clientId=udcd2ea30-8f15-4&from=paste&height=51&id=u3adefbb1&originHeight=64&originWidth=518&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=19606&status=done&style=none&taskId=u5fa9d80c-70b2-413f-ad01-e88be6ccf5d&title=&width=414.4" alt="image.png" style="zoom:80%;" />

#### b.创建一个多级目录
法一：`mkdir d d/e d/e/f`

法二：`mkdir -p xiyou/dssz/meihouwang`

```
-p --parents （为所给出的目录建立丢失了的父目录）
```

## （5）rmdir删除一个空的目录
> rmdir：Remove directory 移除目录

### 1.基本语法
```
rmdir 要删除的空目录
```

### 2.案例实操
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697684680812-421cfeba-cb75-4d93-9136-a93fdc39a8c7.png#averageHue=%23eaeaea&clientId=udcd2ea30-8f15-4&from=paste&height=64&id=uc713b05d&originHeight=80&originWidth=649&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=20748&status=done&style=none&taskId=uda4bf4e3-e14d-40f3-99f0-13a3de31330&title=&width=519.2" alt="image.png" style="zoom:80%;" />

删除一个多级目录与创建类似，加上`-p`。

## （6）touch创建空文件
### 1.基本语法
```
touch 文件名称
```

### 2.案例实操
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697685891761-d2cbb603-6308-4bff-8a28-9b9d49dc0db2.png#averageHue=%23d8d8d8&clientId=udcd2ea30-8f15-4&from=paste&height=26&id=u5a91ecca&originHeight=33&originWidth=633&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=13932&status=done&style=none&taskId=u679bca00-af78-47f1-99ca-ca4949fc047&title=&width=506.4" alt="image.png" style="zoom:80%;" />

## （7）cp复制文件或目录
### 1.基本语法
```
cp [选项] sourcedest （功能描述：复制source文件到dest）
```

如果**dest**是文件名，那就是对**dest**文件进行覆盖。

### 2.选项说明
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697685812241-0c640a30-b3f6-4111-89c2-5059f3bfd612.png#averageHue=%23ebebeb&clientId=udcd2ea30-8f15-4&from=paste&height=69&id=u8a2e5441&originHeight=86&originWidth=436&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=14011&status=done&style=none&taskId=u4037f758-a4a8-4ea7-8756-37586c4f63a&title=&width=348.8" alt="image.png" style="zoom:80%;" />

**r**的意思**recursion**，代表递归的意思，在复制文件夹时，要把里面的文件和文件夹通过层层递归的方式来进行复制。

### 3.参数说明
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697686654222-7615c66a-a048-4130-be06-f79c988e94aa.png#averageHue=%23ebebeb&clientId=udcd2ea30-8f15-4&from=paste&height=105&id=u0ec9308a&originHeight=131&originWidth=319&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=17821&status=done&style=none&taskId=u3b087de7-2b0e-4975-80a5-a74d3be3d53&title=&width=255.2" alt="image.png" style="zoom:80%;" />

### 4.经验技巧
强制覆盖不提示的方法：`\cp`

反斜杠代表执行原生代码。<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697705760024-9e4ade4f-dd9d-49ff-be59-a40842ee6ee3.png#averageHue=%23f7f6f5&clientId=u25841dda-ce12-4&from=paste&height=221&id=u7fe3a7d7&originHeight=276&originWidth=1023&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=19800&status=done&style=none&taskId=uc77de9a1-d6b7-4154-9d3c-c86b6dff263&title=&width=818.4" alt="image.png" style="zoom:80%;" />通过`alias`，即可查看相关命令的别名和原生命令。

### 5.案例实操
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697706277009-4ea79b38-7b72-4843-8c7c-96b7a5c76483.png#averageHue=%23efefef&clientId=u25841dda-ce12-4&from=paste&height=131&id=ueb314b7b&originHeight=164&originWidth=1007&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=53750&status=done&style=none&taskId=u774489fe-19cc-4c47-9e1e-03d45130569&title=&width=805.6" alt="image.png" style="zoom:80%;" />

## （8）rm删除文件或目录
### 1.基本语法
```
rm [选项] deletefile （功能描述：递归删除目录中所有内容）
```

### 2.选项说明
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697706367873-85a358e0-39b8-4d89-ad4b-8a474cbb0d39.png#averageHue=%23ececec&clientId=u25841dda-ce12-4&from=paste&height=156&id=u42269c5b&originHeight=195&originWidth=668&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=41404&status=done&style=none&taskId=u75aeea38-1844-432a-a619-0a43f5e1c27&title=&width=534.4" alt="image.png" style="zoom:80%;" />

可通过连续两个选项，如`-rf`，来做两个操作。

```
[root@hadoop100 atguigu]# rm -f ./*
```

如果要删除**atguigu**目录下的所有内容，用上述命令，`./*`中`./`代表当前目录，`*`代表该目录下的全部文件。

### 3.案例实操
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697707028413-db315a4b-8f78-4129-a7b3-ac841973c703.png#averageHue=%23ebebeb&clientId=u25841dda-ce12-4&from=paste&height=127&id=uc507137d&originHeight=159&originWidth=678&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=49003&status=done&style=none&taskId=u7d282b37-8f47-4110-a7d7-b922d229eb1&title=&width=542.4" alt="image.png" style="zoom:80%;" />

## （9）mv移动文件与目录或重命名
### 1.基本语法
```c
(1) mv oldNameFile newNameFile （功能描述：重命名）
(2) mv /temp/movefile /targetFolder （功能描述：移动文件）
```
### 2.案例实操
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697707125943-1d2600d4-a886-42e8-8a1d-7e9fc4461be2.png#averageHue=%23efefef&clientId=u25841dda-ce12-4&from=paste&height=136&id=u75c71be2&originHeight=170&originWidth=872&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=47490&status=done&style=none&taskId=u11204223-763e-4485-a3a5-58f97b7dba6&title=&width=697.6" alt="image.png" style="zoom:80%;" />

## （10）cat查看文件内容
查看文件内容，从第一行开始显示。

> cat：catch
>

### 1.基本语法
```
cat [选项] 要查看的文件
```

### 2.选项说明
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697707494498-bec3a717-964f-4291-a9fc-db3c9a8f90ce.png#averageHue=%23ebebeb&clientId=u25841dda-ce12-4&from=paste&height=74&id=uead7b00a&originHeight=95&originWidth=497&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=17043&status=done&style=none&taskId=u743a4bf9-d015-42bf-b31f-fbb80c35ad2&title=&width=387" alt="image.png" style="zoom:80%;" />

### 3.经验技巧
一般查看比较小的文件，一屏幕能显示全的。
### 4.案例实操

<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697707548073-518ed84e-eccf-4808-80a6-f4f1da14824a.png#averageHue=%23e9e9e9&clientId=u25841dda-ce12-4&from=paste&height=68&id=u846f28bc&originHeight=85&originWidth=534&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=20758&status=done&style=none&taskId=ua515c695-3d35-4b09-a823-fee5198257b&title=&width=427.2" alt="image.png" style="zoom:80%;" />

另外，使用`cat a b`表示同时显示两个文件的内容，而`cat a b > ab`表示将两个文件显示的内容同时覆写到一个文件（如果没有，会创建一个相应的新文件），`cat a b >> ab `就是添加两个文件的内容到相应文件的末尾。

## （11）more文件内容分屏查看器
`more`指令是一个基于vi编辑器的文本过滤器，它以全屏幕的方式按页显示文件的内容。`more`指令中内置了若干快捷键，详见操作说明。

### 1.基本语法
```
more 要查看的文件
```

### 2.操作说明
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697707899896-db4c3d1c-a03e-453c-b57e-e1499bd5453c.png#averageHue=%23ededed&clientId=u25841dda-ce12-4&from=paste&height=260&id=u67674d03&originHeight=325&originWidth=716&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=79508&status=done&style=none&taskId=u7d5bdb7d-744a-463d-8c90-9faf09c80f3&title=&width=572.8" alt="image.png" style="zoom:80%;" />

## （12）less分屏显示文件内容
`less`指令用来分屏查看文件内容，它的功能与`more`指令类似，但是比`more`指令更加强大，支持各种显示终端。`less`指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。

### 1.基本语法
```
less 要查看的文件
```

### 2.操作说明
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697708650613-b5f6bc19-c1e7-4766-85e5-4db4f732dbb0.png#averageHue=%23ebebeb&clientId=u6b3537b4-9c7a-4&from=paste&height=213&id=u494eaff2&originHeight=266&originWidth=834&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=82254&status=done&style=none&taskId=u77e2d802-1d7f-4915-8ef9-82ec6a4f75b&title=&width=667.2" alt="image.png" style="zoom:80%;" />

### 3.经验技巧
用SecureCRT时，[pagedown]和[pageup]可能会出现无法识别的问题。
### 4.案例实操
<img src="https://cdn.nlark.com/yuque/0/2023/png/38980263/1697708818009-57cfa34a-2c6a-489d-b5ae-5d03ede22963.png#averageHue=%23e9e9e9&clientId=u8c7a1912-1b5f-4&from=paste&height=68&id=u6d54e48b&originHeight=85&originWidth=476&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=19220&status=done&style=none&taskId=ucc2aeb5f-8b1e-4554-abc1-7198be2c191&title=&width=380.8" alt="image.png" style="zoom:80%;" />

## （13）echo

`echo`输出命令到控制台。

### 1.基本语法

```
echo [选项] [输出内容]
```

选项：

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026083346444.png" alt="image-20231026083346444" style="zoom:80%;" />

类似的转义字符如`\"`，与C语言中类似。

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026083435105.png" alt="image-20231026083435105" style="zoom:80%;" />

可以看到输入的字符串最好带上双引号，也可以不带双引号。

## (14)>输入重定向和>>追加

### 1.基本语法

```
ls -l > 文件 （功能描述：列表的内容写入文件a.txt中（覆盖写））
ls -al >> 文件 （功能描述：将列表的内容追加到a.txt的末尾）
cat 文件1 > 文件2 （功能描述：将文件1的内容覆盖到文件2）
echo “内容” >> “文件”
```

其中，`echo $[变量名]`可以查询环境变量，如果不知道要查看哪个，按[tab]键，即可列出。

此时，也可以执行上述第四个命令，会将当前的环境变量追加到文件中。

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026084730752.png" alt="image-20231026084730752" style="zoom:80%;" />

## （15）head显示文件头部内容

`head`用于显示文件开头部分内容，默认情况下`head`指令显示文件的前10行内容。

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026090446475.png" alt="image-20231026090446475" style="zoom:80%;" />

### 2.选项说明

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026090511046.png" alt="image-20231026090511046" style="zoom:80%;" />

### 3.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026090534444.png" alt="image-20231026090534444" style="zoom:80%;" />

## （16）tail输出文件尾部内容

`tail`用于输出文件中尾部的内容，默认情况下`tail`指令显示文件的后10行内容。

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026090807335.png" alt="image-20231026090807335" style="zoom:80%;" />

按[ctrl]+[s]会将监视暂停，按[ctrl]+[q]会将监视重启。

需要注意的是在Linux操作系统中，vim编辑器所编辑的和保存的内容不会再监视中显示，因为当文件保存时，索引号会发生改变，而`tail -f`这个命令是通过索引号来实时追踪的。

可以通过`ls -i [文件名]`来查看索引号。

### 2.选项说明

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026091039988.png" alt="image-20231026091039988" style="zoom:80%;" />

## （17）ln软链接

软链接也称符号链接，类似于Windows里的快捷方式，有自己的数据块，主要存放了链接其他文件的路径。

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026092923988.png" alt="image-20231026092923988" style="zoom:80%;" />

`pwd`显示的是软链接的路径，因此`pwd -P`就可以显示实际物理路径。

### 2.经验技巧

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026092947146.png" alt="image-20231026092947146" style="zoom:80%;" />

### 3.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026093013900.png" alt="image-20231026093013900" style="zoom:80%;" />

## （18）ln硬链接

硬链接相当于当前文件多了一个指向的链接；而软链接是单独创建了一个链接文件指向了当前文件。每个文件都有相应的i-node的信息（也就是metadata（元数据）），这里面有当前文件的索引节点号。而硬链接相当于创建了一个指向**i-node**信息的链接，然后再链接原文件，与原来原文件的链接不冲突。链接数与硬链接有关，而且不能创建目录的硬链接。

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026110308323.png" alt="image-20231026110308323" style="zoom: 67%;" />

硬链接与原文件的地位平等，因此删了原文件也可以，而软链接则不行，因为：

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026110935507.png" alt="image-20231026110935507" style="zoom: 67%;" />

软链接是一个文件，它也有自己的**i-node**，而数据块中存储的是原文件的地址。

### 1.基本语法

```
ln [文件] [链接]
```

## （19）history查看已经执行过的历史命令

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026111215619.png" alt="image-20231026111215619" style="zoom:80%;" />

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026111508152.png" alt="image-20231026111508152" style="zoom:80%;" />

比如`history 10`，可以显示最新执行的10条命令。此后，可以通过`!n`(n代表相应的第n条命令的行号，可以用`history`看到)，这个命令来执行之前的那条命令。

```
history -c
```

上面这条命令可以清除历史记录。

## （20）sort

`sort`可针对文本文件的内容，以行为单位来排序。

### 1.基本语法

```shell
sort [-bcdfimMnr][-o<输出文件>][-t<分隔字符>][+<起始栏位>-<结束栏位>][--help][--verison][文件][-k field1[,field2]]
```

### 2.选项说明

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109113456300.png" alt="image-20231109113456300" style="zoom:80%;" />

### 3.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109113525631.png" alt="image-20231109113525631" style="zoom:80%;" />

# 三、时间日期类

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026112515903.png" alt="image-20231026112515903" style="zoom:80%;" />

### 2.选项说明

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026112557799.png" alt="image-20231026112557799" style="zoom:80%;" />

### 3.参数说明

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026112630884.png" alt="image-20231026112630884" style="zoom:80%;" />

## （1）date显示当前时间

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026112751454.png" alt="image-20231026112751454" style="zoom:80%;" />

命令`date +%y`显示年份后两位的内容。

命令`date +%s`显示的是时间戳。

`""`代表字符串。

这种`%`代表转义字符，与C语言中类似。

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026115253240.png" alt="image-20231026115253240" style="zoom:80%;" />

## （2）date显示非当前时间

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026123344031.png" alt="image-20231026123344031" style="zoom:80%;" />

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026123415972.png" alt="image-20231026123415972" style="zoom:80%;" />

其中，`days`和`1`或者`-1`可以换成其他的单位和数值，如`hours`之类的。

## （3）date设置系统时间

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026124027803.png" alt="image-20231026124027803" style="zoom:80%;" />

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026124057055.png" alt="image-20231026124057055" style="zoom:80%;" />

也可只输入日期或时间来进行操作，只输入日期时，后面默认跟的时间从0开始。

若要恢复现在时间，输入：

```
ntpdate -u cn.pool.ntp.org
```

其中`cn.pool.ntp.org`是中国开源免费NTP服务器，也可换成其他NTP服务器。

## （4）cal查看日历

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026125725823.png" alt="image-20231026125725823" style="zoom:80%;" />

> cal：calendar
>

### 2.选项说明

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026125749697.png" alt="image-20231026125749697" style="zoom:80%;" />

### 3.案例说明

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026125810437.png" alt="image-20231026125810437" style="zoom:80%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026130211016.png" alt="image-20231026130211016" style="zoom:80%;" />

# 四、用户管理

## （1）useradd添加新用户

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026131545623.png" alt="image-20231026131545623" style="zoom:80%;" />

如果没加`-g`就默认创建一个与用户名相同的组名的组。

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231026131617490.png" alt="image-20231026131617490" style="zoom:80%;" />

```shell
useradd -d /home/dave davit
```

当前的用户名叫做**davit**，但主文件夹名称不同。登录的时候也是这个用户名，但是这个用户的主目录是在**dave**目录下面的。

同样的，直接修改用户主目录的名称，用户名没有改变。多个用户可以在Xshell上进行远程登录。

## （2）passwd设置用户密码

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231029110420934.png" alt="image-20231029110420934" style="zoom:80%;" />

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231029110509748.png" alt="image-20231029110509748" style="zoom:80%;" />

在**root**用户权限下，即使密码强度不够，输入两次密码后依旧可以修改密码。

## （3）id查看用户是否存在

### 1.基本语法

```shell
id 用户名
```

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231029111434019.png" alt="image-20231029111434019" style="zoom:80%;" />

其中`uid`指的是**user id**（用户的id） ,而`gid`代表**group id**（组的id）。

## （4）cat /etc/passwd查看创建了哪些用户

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231029112147833.png" alt="image-20231029112147833" style="zoom:80%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231029112353050.png" alt="image-20231029112353050" style="zoom:80%;" />

里面有些用户名，被称作系统用户（也是伪用户），这些用户是被单独创建出来执行系统服务的。

## （5）su切换用户

> su：switch user
>

### 1.基本语法

```shell
su 用户名
```

### 2.案例实操

以root用户的身份跳转到普通用户不用密码，而普通用户之间切换、或切换到root用户，需要密码，而且不能随意查看他人的文件夹。

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102103541860.png" alt="image-20231102103541860" style="zoom:80%;" />

想要切换为原来的用户，可以输入指令`exit`来退出。如图，输入指令退出LeafAlice对话，现在是LeafEvans对话，然后再跳就是root用户，以此类推。

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102104154572.png" alt="image-20231102104154572" style="zoom:80%;" />

如图，这样就可以层层退出了。

## （6）who查看用户登录信息

### 1.基本语法

```shell
who am i （分开敲的话显示的最初始的对话用户，如上图就是root，最外层的用户）
whoami （连起来敲显示的就是当前对话的用户）
```

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102104643818.png" alt="image-20231102104643818" style="zoom:80%;" />

## （7）sudo设置普通用户具有root权限

### 1.应用场景



<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102104907519.png" alt="image-20231102104907519" style="zoom:80%;" />

可知`ls`命令无法执行，因为权限不够，此时要赋予普通用户root权限。

### 2.修改配置文件

直接执行`sudo`命令就会出现以下情况，虽然只要输入该用户的密码，由于没有被root用户授权而要使用`sudo`命令，所以失败。

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102104954095.png" alt="image-20231102104954095" style="zoom:80%;" />

因此要修改配置文件：

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102111144889.png" alt="image-20231102111144889" style="zoom:80%;" />

可以看到：

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102111257908.png" alt="image-20231102111257908" style="zoom:80%;" />

这代表root可以再任何地方执行命令的权限。

修改为：

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102111912300.png" alt="image-20231102111912300" style="zoom:80%;" />

此时，便可以：

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102112543776.png" alt="image-20231102112543776" style="zoom:80%;" />

此外，注意：

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102122729911.png" alt="image-20231102122729911" style="zoom:80%;" />

在配置文件中，这行说明代表在`wheel`组里的都可以执行`sudo`命令，`%`后面加组名就代表整个组。

以及：

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102123011459.png" alt="image-20231102123011459" style="zoom:80%;" />

这代表执行`sudo`命令时，不用输入密码。

## （8）userdel删除用户

### 1.基本语法

```shell
userdel leafevans （删除用户）
userdel -r leafevans （删除用户和它所在的主文件夹）
```

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102113110186.png" alt="image-20231102113110186" style="zoom:80%;" />

## （9）usermod修改用户

### 1.基本语法

```shell
usermod -g 用户组 用户名
usermod -g OldName NewName
```

### 2.选项说明

| 选项 | 功能                                                |
| ---- | --------------------------------------------------- |
| -g   | 修改用户初始登录组，给定的组必须存在。默认组id是1。 |
| -n   | 表明给当前组重命名                                  |

### 3.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102121731543.png" alt="image-20231102121731543" style="zoom:80%;" />

# 五、用户组管理命令

每个用户都有一个用户组，系统可以对一个用户组中的所有用户进行集中管理。

不同**Linux**系统对用户组的规定有所不同，如**LInux**下的用户属于与它同名的用户组，这个用户组在创建用户时同时创建。

用户组的管理涉及用户组的添加、删除和修改。组的增加、删除和修改实际上就是对**/etc/group**文件的更新。

每个用户可以同时加入不同的组。

## （1）groupadd新增组

### 1.基本语法

```
groupadd 组名
```

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102114646459.png" alt="image-20231102114646459" style="zoom:80%;" />

## （2）groupdel删除组

### 1.基本语法

```shell
groupdel 组名
```

## （3）groupmod修改组

### 1.基本语法

```shell
groupmod 选项 用户组
```

### 2.选项说明

- -g GID 为用户组指定新的组标识号。
- -o 与 -g选项同时使用，用户组的新GID可以与系统已有用户组的GID相同。
- -n 新用户组 将用户组的名字改为新名字

### 3.案例实操

1. 实例1

   ```
   # groupmod -g 102 group2
   ```

   此命令将组group2的组标识号修改为102。

2. 实例2

   ```
   # groupmod –g 10000 -n group3 group2
   ```

   此命令将组group2的标识号改为10000，组名修改为group3。

# 六、文件权限类

## （1）文件属性

Linux系统是一种典型的多用户系统，不同的用户处于不同的地位，拥有不同的权限。为了保护系统的安全性，Linux系统对不同的用户访问同一文件（包括目录文件）的权限做了不同的规定。在Linux中我们可以使用`ll`或者`ls -l`命令来显示一个文件的属性以及文件所属的组。

### 1.从左到右的10个字符表示

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102124258682.png" alt="image-20231102124258682" style="zoom: 80%;" />

如果没有权限就会出现[-]而已。从左到右用0~9这些数字来表示。

1. 0首位代表类型

   在Linux中第一个字符代表这个文件是目录、文件或链接文件等等。

   - \- 代表文件
   - d 代表目录
   - l 代表链接文件（link file）；

2. 第1~3位确定属主（该文件的所有者）拥有该文件的权限。 --User

3. 第4~6位确定属组（所有者的同组用户）拥有该文件的权限。--Group

4. 第7~9位确定其他用户拥有该文件的权限。--Other

### 2.rxw作用文件和目录的不同解释

1. 作用到文件：

   [r]代表可读（read）：读取，查看。

   [w]代表可写（write）：可以修改，但是不代表可以删除该文件，删除一个文件的前提是对该文件所在的目录有写权限，才能删除该文件。

2. 作用到目录：

   [r]代表可读（read）：读取，ls查看目录内容。

   [w]代表可写（write）：可以修改，目录内创建+删除+重命名目录。

   [x]代表可执行程序（execute）：可以进入该目录。

### 3.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231102132705417.png" alt="image-20231102132705417" style="zoom: 80%;" />

每个目录都有链接数，它代表每个文件的子目录。

## （2）chmod修改权限

> chmod：change mod
>

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231104171327678.png" alt="image-20231104171327678" style="zoom:67%;" />

- ```
  chmod [{ugoa}{+-=}{rwx}] 文件或目录
  ```

- ```bash
  chmod [mode=421] [文件或目录]
  ```

### 2.经验技巧

u：所有者；g：所有组；o：其他人；a：所有人（u、g、o的总和）

```shell
r = 4;w = 2;x = 1;
rwx = 4 + 2 + 1 = 7
```

### 3.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231104173731904.png" alt="image-20231104173731904" style="zoom: 80%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231104173856660.png" alt="image-20231104173856660" style="zoom: 80%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231104174030062.png" alt="image-20231104174030062" style="zoom: 80%;" />

## （3）chown改变所有者

### 1.基本语法

```
chown [选项] [最终用户] [文件或目录] （功能描述：改变文件或目录的所有者）
```

### 2.选项说明

| 选项 | 功能     |
| ---- | -------- |
| -R   | 递归操作 |

### 3.案例实操

## （4）chgrp改变所属组

### 1.基本语法

```bash
chgrp [最终用户组] [文件或目录] （功能描述：改变文件或者目录的所属组）
```

### 2.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231104175101717.png" alt="image-20231104175101717" style="zoom: 80%;" />

改变的组不一定是属主所在的组。

# 七、搜索查找类

## （1）find查找文件或目录

`find`指令将从指定目录向下递归地遍历各个子目录，将满足条件的文件显示在终端。

### 1.基本语法

```
find [搜索范围] [选项]
```

### 2.选项说明

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109084203017.png" alt="image-20231109084203017" style="zoom:80%;" />

### 3.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109084903171.png" alt="image-20231109084903171" style="zoom: 80%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109085013171.png" alt="image-20231109085013171" style="zoom:80%;" />

`"*.cfg"`可以显示该目录下的所有后缀为`.cdg`的文件，`*`代表所有文件，`""`代表这个字符串当成一个整体运行。

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109091014006.png" alt="image-20231109091014006" style="zoom:80%;" />

显示当前用户创建的文件。

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109091223442.png" alt="image-20231109091223442" style="zoom:80%;" />

`+`代表大于，`-`代表小于。

## （2）locate快速定位文件路径

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109091357119.png" alt="image-20231109091357119" style="zoom:80%;" />

### 1.基本语法

```
locate [搜索文件]
```

### 2.经验技巧

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109091514072.png" alt="image-20231109091514072" style="zoom:80%;" />

### 3.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109091554079.png" alt="image-20231109091554079" style="zoom:80%;" />

扩展：对于Linux系统中的命令，也可以做定位。

```
which [命令]
whereis [命令]
```

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109092122713.png" alt="image-20231109092122713" style="zoom:67%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109092256465.png" alt="image-20231109092256465" style="zoom:80%;" />

## （3）grep过滤查找及“|”管道符

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109092420113.png" alt="image-20231109092420113" style="zoom:80%;" />

### 1.基本语法

```
grep 选项 查找内容 源文件
```

### 2.选项说明

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109092520590.png" alt="image-20231109092520590" style="zoom:80%;" />

### 3.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109092550275.png" alt="image-20231109092550275" style="zoom:80%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109093127816.png" alt="image-20231109093127816" style="zoom:80%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109093344479.png" alt="image-20231109093344479" style="zoom:80%;" />

扩展：

> wc：word count

```
wc word count
```

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109093733628.png" alt="image-20231109093733628" style="zoom:80%;" />

**71**代表行，**172**代表172个单词（以空格划分），**1916**代表当前文件的字节数。

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109094723093.png" alt="image-20231109094723093" style="zoom:80%;" />

两个结合后，显示的是`boot`的有8行，有32个词，这8行一共有344个字节。

# 八、压缩和解压类

## （1）gzip/gunzip压缩

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109095258761.png" alt="image-20231109095258761" style="zoom:80%;" />

### 2.经验技巧

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109095348519.png" alt="image-20231109095348519" style="zoom:80%;" />

### 3.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109095900778.png" alt="image-20231109095900778" style="zoom:80%;" />

## （2）zip/unzip压缩

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109101001740.png" alt="image-20231109101001740" style="zoom:80%;" />

### 2.选项说明

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109101644773.png" alt="image-20231109101644773" style="zoom:80%;" />

### 3.经验技巧

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109101819547.png" alt="image-20231109101819547" style="zoom:80%;" />

### 4.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109104305355.png" alt="image-20231109104305355" style="zoom:80%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109104429732.png" alt="image-20231109104429732" style="zoom:80%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109104454934.png" alt="image-20231109104454934" style="zoom:80%;" />

## （3）tar打包

### 1.基本语法

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109105614797.png" alt="image-20231109105614797" style="zoom:80%;" />

### 2.选项说明

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109105639238.png" alt="image-20231109105639238" style="zoom:80%;" />

### 3.案例实操

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109111854625.png" alt="image-20231109111854625" style="zoom:80%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109111613574.png" alt="image-20231109111613574" style="zoom:80%;" />

<img src="C:\Users\31866\AppData\Roaming\Typora\typora-user-images\image-20231109112342534.png" alt="image-20231109112342534" style="zoom:80%;" />